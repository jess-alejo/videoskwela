.card
  .card-header
    %h5.card-title.mb-0
      .fa.fa-graduation-cap.me-1
      = course.title
  .card-body
    .row.g-0
      .col-sm-9.col-xl-12
        = simple_format(course.short_description)
    %table.table.table-sm.mt-2.mb-4
      %tbody
        %tr
          %th Language
          %td= course.language
        %tr
          %th Level
          %td= course.level
        %tr
          %th Price
          %td= number_to_currency course.price
        %tr
          %th Author
          %td= link_to course.author, user_path(course.author)

        - if policy(course).author? || current_user.has_role?(:admin)
          %tr
            %th Status
            %td
              = badge_for_course_status(course)
              - if policy(course).author? && course.can_publish?
                = link_to 'Publish', publish_course_path(course), method: :patch, class: 'btn btn-primary btn-sm ms-1'
              - if current_user.has_role? :admin
                = link_to 'Review', review_course_path(course), method: :patch, class: 'btn btn-primary btn-sm ms-1' if course.can_review?
                = link_to 'Approve', approve_course_path(course), method: :patch, class: 'btn btn-primary btn-sm ms-1' if course.can_approve?

  - if policy(course).edit?
    .card-footer.bg-white
      = link_to 'Add lesson', new_course_lesson_path(course), class: 'btn btn-sm btn-primary' if policy(course).author?
      = link_to 'Edit', edit_course_path(course), class: 'btn btn-sm btn-outline-warning'